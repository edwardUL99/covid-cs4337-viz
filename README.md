COVID-19 CS4337 Visualisation Project
==
This project provides a solution for retrieving COVID-19 data from multiple data sources, cleaning the data and then
storing it in a CSV file that can be read by a data visualisation dashboard to visualise this data. 

The data is thanks to the following sources:
- https://github.com/CSSEGISandData/COVID-19 -provides the main COVID-19 dataset that is used for the visualisations.

The following datasets are "custom" datasets which are merged into the main one to provide additional information for
visualisations
- https://population.un.org/wpp/Download/Files/1_Indicators%20(Standard)/CSV_FILES/WPP2019_TotalPopulationBySex.csv -
provides population data (estimated)
- https://github.com/owid/covid-19-data/ - Provides vaccination and variant data

## Requirements
The following are required to run the application components:
- Python 3
- Dash
- Dash Core Components
- Dash HTML Components
- Dash Bootstrap Components
- Pandas
- Plotly

To quickly install the dependencies, in a virtual environment or the main environment, from the base of the project, run
the following command:
```bash
pip install -r requirements.txt
```

This will install all the required dependencies for the project

## Loading data
To load the data for the visualisation dashboard, you can use the data package. The main script is the `data/loader.py`
script, and has the following command line arguments:
```
usage: loader.py [-h] [-o OUTPUT] [-y]

Pulls and cleans CSSE GIS Covid-19 data and vaccination data into a single DataFrame.

optional arguments:
  -h, --help            show this help message and exit
  -o OUTPUT, --output OUTPUT
                        The path to the output file
  -y, --accept-overwrite
                        If --output already exists, overwrite it without prompting
```

The default option if to output the produced dataset as data.csv in the root of the project. This is the default for the
dashboard also, so best to leave it that way. To run the default, run the following command from the root of the project:
```bash
python data/loader.py
```
If the data.csv file already exists and you don't specify `-y`, you will be asked if you want to overwrite the existing
dataset. Enter Y on the terminal to continue.

When completed, the processed and cleaned dataset will be output to `data.csv` in the root of the project

To output to a different file, use the -o flag and the path (including the desired name, e.g. /new/path/to/data.csv)

The dataset has the following columns:

| Column Name | Description |
| ----------- | ----------- |
|Country/Region|The name of the country the data has been recorded for|
|DateRecorded|The date the data has been recorded for|
|Confirmed|The cumulated total number of cases since the pandemic began|
|Deaths|The cumulated total number of deaths since the pandemic began|
|NewCases|The number of new cases on a particular date|
|NewDeaths|The number of new deaths on a particular date|
|Doses|The total number of vaccine doses given|
|people_fully_vaccinated|The number of people fully vaccinated|
|total_boosters|The total number of boosters given|
|people_partially_vaccinated|The number of people partially vaccinated (at least 1 dose)|
|total_boosters_per_hundred|The number of boosters given per hundred people|
|variant|The name of an identified variant on that date|
|number_detections_variant|The number of times the variant was detected in sequencing|
|percent_variant|The percentage of cases sequenced that were in fact the variant|
|Tests|The total number of COVID-19 tests taken|
|DailyTests|The daily number of COVID-19 tests|
|PositiveRate|The number of tests that were positive as a decimal (multiply by 100 to get percentage)|
|Unvaccinated|The number of people that donâ€™t have any vaccination dose given to them|
|IncidentRate|The number of cases per 100,000 people|
|DeathRate|The number of deaths per 100,000 people|
|PercentageVaccinated|The percentage of population vaccinated|


## Visualisation Dashboard
The dashboard for visualising the data can be found in the app package. The app has the following command-line arguments:
```
usage: main.py [-h] [-f FILE] [-d]

The server for providing interactive COVID-19 visualisations

optional arguments:
  -h, --help            show this help message and exit
  -f FILE, --file FILE  The path to the data.csv file generated by data/loader.py
  -d, --debug           Enable debugging
```
By default, as mentioned, it looks in the root of the project for data.csv. If not there, specify the location using the
`-f` flag.

To run the default dashboard, run the following command:
```bash
python app/main.py
```

The dashboard will now be available at http://localhost:8050/
